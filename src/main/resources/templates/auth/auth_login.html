<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns="http://www.w3.org/1999/html">

    <head th:replace="~{layouts/layout_main :: head(title = 'Log In')}" sec:authorize="!isAuthenticated()">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    </head>

    <body sec:authorize="!isAuthenticated()">
        <nav th:replace="~{fragments/fragment_nav :: navigation}"></nav>
        <div th:replace="~{fragments/fragment_jumbotron :: jumbotron}"></div>

        <div class="container">
            <form class="form-horizontal" method="POST" th:action="@{/login}">
                <div class="row">
                    <div class="col-mb-3"></div>
                    <div class="col-mb-6">
                        <h3><b>Login Page</b></h3>
                        <hr>
                        <div class="alert alert-warning alert-dismissible fade show" role="alert" th:if="${param.error != null}">
                            <span>Invalid username and/or password!</span>
                            <button type="button" class="btn-close focus-ring focus-ring-warning" data-bs-dismiss="alert"></button>
                        </div>

                        <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${param.logout != null}">
                            <span>You have successfully logged out!</span>
                            <button type="button" class="btn-close focus-ring focus-ring-success" data-bs-dismiss="alert"></button>
                        </div>

                        <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${success}">
                            <span>You have successfully registered!</span>
                            <button type="button" class="btn-close focus-ring focus-ring-success" data-bs-dismiss="alert"></button>
                        </div>

                        <div class="alert alert-success alert-dismissible fade show" role="alert" th:if="${deleted}">
                            <span>Your profile and everything associated with it has been successfully deleted!</span>
                            <button type="button" class="btn-close focus-ring focus-ring-success" data-bs-dismiss="alert"></button>
                        </div>
                    </div>
                    <div class="col-mb-3"></div>
                </div>

                <div class="row">
                    <div class="col-mb-3"></div>
                    <div class="col-mb-6">
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control focus-ring focus-ring-success" id="floatingInput" name="email" placeholder="you@mail.com" autofocus required/>
                            <label for="floatingInput"><b>E-Mail:</b></label>
                        </div>
                    </div>
                    <div class="col-mb-3"></div>
                </div>

                <div class="row">
                    <div class="col-mb-3"></div>
                    <div class="col-mb-6">
                        <div class="form-floating">
                            <input type="password" class="form-control focus-ring focus-ring-success" id="floatingPassword" name="password" placeholder="Password" required/>
                            <label for="floatingPassword"><b>Password:</b></label>
                        </div>
                    </div>
                    <div class="col-mb-3"></div>
                </div>

                <div class="row" style="padding-top: 1rem">
                    <div class="col-mb-3"></div>
                    <div class="col-mb-6">
                        <a href="/home" class="btn btn-secondary">Cancel</a>
                        <button type="submit" class="btn btn-success ms-1"><i class="fas fa-sign-in-alt me-1"></i>Log In</button>
                    </div>
                    <div class="col-mb-3"></div>
                </div>
            </form>
            <br><hr><br>
            <div align="center">
                <h5>Don't have an account?</h5>
                <a href="/register" style="color:green;">CREATE ONE NOW</a>
            </div>
        </div>
    </body>

</html>